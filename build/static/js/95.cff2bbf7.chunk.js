(this.webpackJsonpQCentorApp=this.webpackJsonpQCentorApp||[]).push([[95],{3294:function(e,t,a){"use strict";a.r(t),a.d(t,"Setting",(function(){return z}));var c=a(100),n=a(101),s=a(149),r=a(150),i=a(0),l=a(586),o=a(501),u=a(502),d=a(519),j=a(506),b=a(226),p=a(13),h=a(195),m=a(293),O=a(495),f=a(584),v=a(971),x=a(1182),y=a(1183),g=a(1184),k=a(443),w=a(1185),N=a(330),S=a(96),C=a(139),P=a(165),D=a(2),T=function(e){var t=e.systemData,a=t.settings,c=t.settingsLoading,n=Object(i.useState)([]),s=Object(h.a)(n,2),r=s[0],l=s[1],o=Object(i.useState)(!0),u=Object(h.a)(o,2),d=u[0],T=u[1],A=Object(i.useState)([{key:"product_code",title:"Product Code",icon:x.a,desc:"Allow Each Product to have an extra text field for product code.",boolean:!0,allow:!1},{key:"category",title:"Category",icon:y.a,desc:"Allow Each Product to have a category and brand on product table.",boolean:!0,allow:!1},{key:"brand",title:"Brand",icon:g.a,desc:"Allow Each Product to have a category and brand on product table.",boolean:!0,allow:!1},{key:"purchases",title:"Purchased Allocation",icon:k.a,option1:"Purchase for a specific store then purchased products goes in stock of specified store.",option2:"Purchase once for all stores then distribute purchased products to store one by one.",options:!0,checked:null},{key:"prices",title:"Products Prices",icon:w.a,option1:"Prices of Carton, packet or dozen varies according to Sale or purchase price of one piece",option2:"Carton, packet or dozen have their own prices, independent to price of one piece. ",options:!0,checked:null}]),F=Object(h.a)(A,2),I=F[0],B=F[1];if(!c){var L=[],R="",E=!1;if(a.docs.map((function(e){return L=Object(p.a)(Object(p.a)({},L),{},Object(b.a)({},e.data()._id,{value:e.data().value})),R=e.data()._id,E=!r[R]||r[R].value!==e.data().value||E,!0})),E||R&&(d||!r[R])){l(L),T(!1);var V=I.map((function(e){return L[e.key]&&(e.options?e.checked=L[e.key].value:e.allow=L[e.key].value),e}));B(Object(j.a)(V))}}var q=function(e,t){m.b.loading({content:"Saving...",key:"key"});var a=t.target?t.target.value:t,c=I.map((function(t){return t.key===e&&(t.options?t.checked=a:t.allow=a),t}));B(Object(j.a)(c)),setTimeout((function(){P.a.create({value:a},e),m.b.success({content:"Changes Saved!",key:"key",duration:2})}),1e3)},z={display:"block",height:"35px",lineHeight:"35px"};return Object(D.jsx)(O.b,{itemLayout:"horizontal",dataSource:I,renderItem:function(e){return Object(D.jsx)(O.b.Item,{children:Object(D.jsxs)(C.a,{justifyContent:"between",alignItems:"center",className:"w-100",children:[Object(D.jsxs)("div",{className:"d-flex align-items-center",children:[Object(D.jsx)(S.b,{className:"h1 mb-0 text-primary",type:e.icon}),Object(D.jsxs)("div",{className:"ml-3",children:[Object(D.jsx)("h4",{className:"mb-0",children:e.title}),e.boolean?Object(D.jsx)("p",{children:e.desc}):null,e.options?Object(D.jsxs)(f.a.Group,{onChange:function(t){q(e.key,t)},value:e.checked,className:"ml-1",children:[Object(D.jsx)(f.a,{style:z,value:1,children:e.option1}),Object(D.jsx)(f.a,{style:z,value:2,children:e.option2})]}):null]})]}),e.boolean?Object(D.jsxs)("div",{className:"ml-3",children:[Object(D.jsx)(v.a,{defaultChecked:e.allow,onChange:function(t){q(e.key,t)}}),!d&&r[e.key]?null:Object(D.jsx)(N.a,{})]}):null]})})}})},A=a(75),F=a.n(A),I=a(125),B=a(558),L=a(566),R=a(583),E=[{key:"cashOpeningBalance",title:"Cash Opening Balance",type:1},{key:"momoOpeningBalance",title:"Momo Opening Balance",type:1},{key:"reminderDuration",title:"Todays Notification Reminder",type:2}],V=a(499),q=function(e){var t=e.systemData,a=B.a.useForm(),c=Object(h.a)(a,1)[0],n=Object(i.useState)(!1),s=Object(h.a)(n,2),r=s[0],l=s[1],j=Object(i.useState)(!1),b=Object(h.a)(j,2),p=b[0],O=b[1],f=Object(i.useState)(""),v=Object(h.a)(f,2),x=v[0],y=v[1],g=Object(i.useState)(""),k=Object(h.a)(g,2),w=k[0],N=k[1],S=Object(i.useState)(""),C=Object(h.a)(S,2),T=C[0],A=C[1],q=t.setting,z=t.setsLoading,M=function(){var e=Object(I.a)(F.a.mark((function e(t){var a,n,s;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.validateFields();case 3:if(a=e.sent,""!==(n=a.value)){e.next=7;break}return e.abrupt("return");case 7:O(!0),s={value:n},P.a.create(s,x),l(!1),O(!1),c.setFieldsValue({value:null}),m.b.success("".concat(w," set successfully")),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(0);case 18:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(D.jsxs)(o.a,{gutter:16,children:[E.map((function(e){return Object(D.jsx)(u.a,{xs:24,sm:24,md:8,children:Object(D.jsx)(d.a,{hoverable:!0,onClick:function(){var t;y((t=e).key),A(t.type),N(t.title),c.setFieldsValue(!z&&q[t.key]?{value:t.value}:{value:null}),l(!0)},children:Object(D.jsxs)("div",{className:"text-center",children:[Object(D.jsx)("h3",{children:!z&&q[e.key]?1===e.type?Object(D.jsx)(V.a,{displayType:"text",value:q[e.key].value,suffix:" Rwf",thousandSeparator:!0}):parseInt(q[e.key].value)>0?"".concat(q[e.key].value," Minute")+(q[e.key].value>1?"s":""):"Disabled":"-"}),Object(D.jsx)("h5",{className:"mt-4",children:e.title})]})})},e.key)})),Object(D.jsx)(B.a,{form:c,component:!1,layout:"vertical",children:Object(D.jsx)(L.a,{title:w,visible:r,onOk:M,confirmLoading:p,onCancel:function(){l(!1),y(""),A(""),N(""),c.setFieldsValue({value:null})},children:Object(D.jsx)(o.a,{gutter:16,children:Object(D.jsxs)(u.a,{xs:24,sm:24,md:24,children:[1===T&&Object(D.jsx)(B.a.Item,{name:"value",label:"Value",rules:[{required:!0,message:"This field is required."}],children:Object(D.jsx)(R.a,{className:"w-100",min:0,parser:function(e){return e.replace(/\$\s?|(,*)/g,"")},addonAfter:"Rwf",formatter:function(e){return"".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")}})}),2===T&&Object(D.jsx)(B.a.Item,{name:"value",label:"Value",rules:[{required:!0,message:"This field is required."}],children:Object(D.jsx)(R.a,{className:"w-100",placeholder:"Enter Minutes",min:0,max:100})})]})})})})]})},z=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:"render",value:function(){return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(l.a,{className:"bg-primary",overlap:!0,children:Object(D.jsx)("div",{className:"container text-center",children:Object(D.jsxs)("div",{className:"py-lg-4",children:[Object(D.jsx)("h1",{className:"text-white display-4",children:"System Settings"}),Object(D.jsx)(o.a,{type:"flex",justify:"center",children:Object(D.jsx)(u.a,{xs:24,sm:24,md:12,children:Object(D.jsx)("p",{className:"text-white w-75 text-center mt-2 mb-4 mx-auto"})})})]})})}),Object(D.jsx)("div",{className:"container mt-5",children:Object(D.jsx)(o.a,{gutter:16,children:Object(D.jsx)(u.a,{xs:24,sm:24,md:24,lg:24,children:Object(D.jsx)(q,{systemData:this.props.systemData})})})}),Object(D.jsx)(d.a,{children:Object(D.jsx)(T,{systemData:this.props.systemData})})]})}}]),a}(i.Component);t.default=z},586:function(e,t,a){"use strict";var c=a(195),n=a(0),s=a(47),r=a(37),i=a(2);t.a=Object(s.b)((function(e){return{navType:e.theme.navType}}),{})((function(e){var t=e.children,a=e.background,s=e.className,l=e.overlap,o=e.navType,u=Object(n.useState)(0),d=Object(c.a)(u,2),j=d[0],b=d[1],p=Object(n.useRef)(null);Object(n.useEffect)((function(){if(o===r.d){var e=window.innerWidth,t=p.current.offsetWidth;b((e-t)/2)}}),[o]);return Object(i.jsx)("div",{ref:p,className:"page-header-alt ".concat(s||""," ").concat(l&&"overlap"),style:function(){var e={backgroundImage:a?"url(".concat(a,")"):"none"};return o===r.d&&(e.marginRight=-j,e.marginLeft=-j,e.paddingLeft=0,e.paddingRight=0),e}(),children:o===r.d?Object(i.jsx)("div",{className:"container",children:t}):Object(i.jsx)(i.Fragment,{children:t})})}))}}]);
//# sourceMappingURL=95.cff2bbf7.chunk.js.map